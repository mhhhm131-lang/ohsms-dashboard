<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body data-page="risks">
  <header>
    <h1>ูุธุงู ุฅุฏุงุฑุฉ ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ โ OHSMS M.S</h1>
    <p>ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ ูููุธุงู โ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</p>
  </header>
  <div class="layout">
    <aside class="sidebar">
      <h3>ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</h3>
      <a class="nav-link" href="index.html" data-page="home">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
      <a class="nav-link" href="dashboard.html" data-page="dashboard">ููุญุฉ ุงูุชุญูู</a>
      <a class="nav-link" href="risks.html" data-page="risks">ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</a>
      <a class="nav-link" href="reports.html" data-page="reports">ูุธุงู ุงูุจูุงุบุงุช</a>
      <a class="nav-link" href="documents.html" data-page="documents">ุงููุซุงุฆู ุงูุฑูููุฉ</a>
      <a class="nav-link" href="awareness.html" data-page="awareness">ุงูุชูุนูุฉ</a>
      <a class="nav-link" href="clients.html" data-page="clients">ุงูุนููุงุก ูุงูุดุฑูุงุก</a>
      <a class="nav-link" href="admin.html" data-page="admin">ุฅุฏุงุฑุฉ ุงููุธุงู</a>
    </aside>
    <main class="content">

      <section class="card">
        <h2>โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</h2>
        <div class="risk-tabs">
          <button class="tab-btn" data-tab="riskEntry">ุฅุฏุฎุงู ุงููุฎุงุทุฑ</button>
          <button class="tab-btn active" data-tab="riskGeneral">ุงูุณุฌู ุงูุนุงู</button>
          <button class="tab-btn" data-tab="riskPrivate">ุงูุณุฌู ุงูุฎุงุต</button>
        </div>

        <div id="riskEntry" class="tab-content hidden">
          <h3>๐ ูููุฐุฌ ุฅุฏุฎุงู ุงูุฎุทุฑ</h3>
          <form id="riskForm" class="grid-form" onsubmit="return false;">
            <select id="branch" onchange="onBranchChange()">
              <option value="">ุงุฎุชุฑ ุงููุฑุน</option>
              <option value="ุงููุฑูุฒ ุงูุฑุฆูุณู">ุงููุฑูุฒ ุงูุฑุฆูุณู</option>
              <option value="ูุฑุน ุงูุฑูุงุถ">ูุฑุน ุงูุฑูุงุถ</option>
              <option value="ูุฑุน ุงูุดุฑููุฉ">ูุฑุน ุงูุดุฑููุฉ</option>
              <option value="ูุฑุน ุงูุฌููุจ">ูุฑุน ุงูุฌููุจ</option>
              <option value="ูุฑุน ุงูุบุฑุจูุฉ">ูุฑุน ุงูุบุฑุจูุฉ</option>
            </select>

            <select id="department" onchange="onDepartmentChange()">
              <option value="">ุงุฎุชุฑ ุงูุฅุฏุงุฑุฉ</option>
            </select>

            <select id="sectionField">
              <option value="">ุงุฎุชุฑ ุงููุณู</option>
            </select>

            <select id="building">
              <option value="">ุงุฎุชุฑ ุงููุจูู</option>
            </select>

            <input placeholder="ุงูุทุงุจู" id="floor" />

            <select id="mainRisk" onchange="updateSubCategories()">
              <option value="">ุงุฎุชุฑ ุงููุฆุฉ ุงูุฑุฆูุณูุฉ ููุฎุทุฑ</option>
              <option value="ุณูุงูุฉ ุนุงูุฉ">ุณูุงูุฉ ุนุงูุฉ</option>
              <option value="ุจูุฆุฉ">ุจูุฆุฉ</option>
              <option value="ุชุดุบูู">ุชุดุบูู</option>
            </select>

            <select id="subRisk" onchange="updateCauses()">
              <option value="">ุงุฎุชุฑ ุงููุฆุฉ ุงููุฑุนูุฉ</option>
            </select>

            <select id="riskCause">
              <option value="">ุงุฎุชุฑ ูุณุจุจุงุช ุงูุฎุทุฑ</option>
            </select>

            <input placeholder="ุงููุชุฃุซุฑูู" id="affected" />

            <select id="probability">
              <option value="1">ุงูุงุญุชูุงููุฉ 1</option>
              <option value="2">ุงูุงุญุชูุงููุฉ 2</option>
              <option value="3">ุงูุงุญุชูุงููุฉ 3</option>
              <option value="4">ุงูุงุญุชูุงููุฉ 4</option>
              <option value="5">ุงูุงุญุชูุงููุฉ 5</option>
            </select>

            <select id="severity">
              <option value="1">ุงูุดุฏุฉ 1</option>
              <option value="2">ุงูุดุฏุฉ 2</option>
              <option value="3">ุงูุดุฏุฉ 3</option>
              <option value="4">ุงูุดุฏุฉ 4</option>
              <option value="5">ุงูุดุฏุฉ 5</option>
            </select>

            <input id="evaluation" placeholder="ุงูุชูููู (ุชููุงุฆู)" disabled />

            <input placeholder="ุงูุฅุฌุฑุงุก ุงูุชุตุญูุญู" id="corrective" />
            <input placeholder="ุงูุฅุฌุฑุงุก ุงูููุงุฆู" id="preventive" />
            <input placeholder="ุงูุฅุฏุงุฑุฉ ุงููุณุคููุฉ" id="responsibleDept" />
            <input placeholder="ุงูุดุฎุต ุงููููุถ" id="authorizedPerson" />
            <input placeholder="ููุงุฉ ุงูุชูุงุตู" id="contact" />
          </form>

          <button id="saveRiskBtn" class="btn-primary">
            ๐พ ุญูุธ ุงูุฎุทุฑ
          </button>
        </div>

        <div id="riskGeneral" class="tab-content">
          <h3>๐ ุงูุณุฌู ุงูุนุงู ูููุฎุงุทุฑ</h3>
          <table id="generalTable" class="risk-table">
            <thead>
              <tr>
                <th>ุงููุฆุฉ ุงูุฑุฆูุณูุฉ</th>
                <th>ุงููุฆุฉ ุงููุฑุนูุฉ</th>
                <th>ูุณุจุจุงุช ุงูุฎุทุฑ</th>
                <th>ุงูุดุฏุฉ</th>
                <th>ุงูุงุญุชูุงููุฉ</th>
                <th>ุงูุชูููู</th>
                <th>ุงููุชุฃุซุฑูู</th>
                <th>ุงูุฅุฌุฑุงุก ุงูุชุตุญูุญู</th>
                <th>ุงูุฅุฌุฑุงุก ุงูููุงุฆู</th>
                <th>ุงูุฅุฏุงุฑุฉ ุงููุณุคููุฉ</th>
                <th>ุงูุดุฎุต ุงููุณุคูู</th>
                <th>ููุงุฉ ุงูุชูุงุตู</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div id="riskPrivate" class="tab-content hidden">
          <h3>๐ ุงูุณุฌู ุงูุฎุงุต ุจุงููุฎุงุทุฑ</h3>
          
<div id="riskFilterBar" class="filter-bar" style="display:flex;gap:10px; margin:10px 0;">
 <select id="fBranch" onchange="filterPrivateRisks()"><option value="">ูู ุงููุฑูุน</option></select>
 <select id="fDept" onchange="filterPrivateRisks()"><option value="">ูู ุงูุฅุฏุงุฑุงุช</option></select>
 <select id="fSection" onchange="filterPrivateRisks()"><option value="">ูู ุงูุฃูุณุงู</option></select>
 <select id="fBuilding" onchange="filterPrivateRisks()"><option value="">ูู ุงููุจุงูู</option></select>
 <button onclick="resetRiskFilters()">ุฅุนุงุฏุฉ ุงูุชุนููู</button>
</div>
<table id="privateTable" class="risk-table">
            <thead>
              <tr>
                <th>ุงููุฑุน</th>
                <th>ุงูุฅุฏุงุฑุฉ</th>
                <th>ุงููุณู</th>
                <th>ุงุณู ุงููุจูู</th>
                <th>ุงูุทุงุจู</th>
                <th>ุงููุฆุฉ ุงูุฑุฆูุณูุฉ</th>
                <th>ุงููุฆุฉ ุงููุฑุนูุฉ</th>
                <th>ูุณุจุจุงุช ุงูุฎุทุฑ</th>
                <th>ุงูุดุฏุฉ</th>
                <th>ุงูุงุญุชูุงููุฉ</th>
                <th>ุงูุชูููู</th>
                <th>ุงููุชุฃุซุฑูู</th>
                <th>ุงูุฅุฌุฑุงุก ุงูุชุตุญูุญู</th>
                <th>ุงูุฅุฌุฑุงุก ุงูููุงุฆู</th>
                <th>ุงูุฅุฏุงุฑุฉ ุงููุณุคููุฉ</th>
                <th>ุงูุดุฎุต ุงููุณุคูู</th>
                <th>ููุงุฉ ุงูุชูุงุตู</th>
                <th>ุญุงูุฉ ุงูุฎุทุฑ</th>
                <th>ููุงุญุธุงุช</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

    </main>
  </div>
  <script src="assets/js/common.js"></script>
  <script src="assets/js/risks.js"></script>

  <!-- ูุงูุฐุฉ ููุจุซูุฉ ูุนุฑุถ ุงููุตูุต ุงูุทูููุฉ -->
  <div id="textModal" class="modal" onclick="this.style.display='none'">
    <div class="modal-content" onclick="event.stopPropagation()">
      <span class="close" onclick="document.getElementById('textModal').style.display='none'">&times;</span>
      <p id="modalText"></p>
    </div>
  </div>

</body>
</html>
